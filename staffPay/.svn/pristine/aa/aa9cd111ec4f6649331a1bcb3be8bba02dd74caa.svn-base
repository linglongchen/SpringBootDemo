<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>系统用户信息管理</title>

	<head th:include="init :: init"></head>

	<script type="text/javascript">

		//提交表单
		function validForm(){
			$('#signupForm').validate({
		        submitHandler:function(form){
		            loading();
		            form.action = '[[${ctx}]]/system/user/saveUser';
					form.submit();
		        }
			});
		    $('#signupForm').submit();
		}
	</script>
</head>
<body class="gray-bg">
	<div class="wrapper animated fadeInRight">
    	<div class="ibox-content">
    		<div class="row">
    			<form id="signupForm" class="layui-form form-horizontal m-t">
    			<input type="hidden" name="id" th:value="${user.id}">
					<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label"><i class="required">*</i>上传图片</label>
						<div class="col-xs-6">
							<!-- 此处的lay-img填的值为下面input框的name -->
							<img alt="image" title="点击上传图片" style="cursor:pointer;width:150px;height:150px;" id="headImg" class=""
								 th:src="${user.headImg}" lay-img="headImg"  onerror="this.src='/images/default2.png'">
							<input type="hidden" name="headImg" required th:value="${user.headImg }">
						</div>
					</div>
					<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label"><i class="required">*</i>登录账号：</label>
						<div class="col-xs-6">
							<input name="account" class="layui-input" th:value="${user.account }" placeholder="请输入登录账号" autocomplete="off" type="text" required  maxlength="50">
						</div>
					</div>
					<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label"><i class="required">*</i>姓名：</label>
						<div class="col-xs-6">
							<input name="name" class="layui-input" th:value="${user.name }" placeholder="请输入姓名" autocomplete="off" type="text" required  maxlength="50">
						</div>
					</div>
					<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label"><i class="required">*</i>手机号：</label>
						<div class="col-xs-6">
							<input name="phone" class="layui-input" th:value="${user.phone }" placeholder="请输入手机号" autocomplete="off" type="text" required  maxlength="50">
						</div>
					</div>
    				<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label">员工号：</label>
				        <div class="col-xs-6">
    						<input name="code" class="layui-input" th:value="${user.code }" placeholder="请输入员工号" autocomplete="off" type="text"  maxlength="50">
    					</div>
				    </div>
					<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label">角色：</label>
						<div class="col-xs-6">
							<select class="chosen-select-deselect form-control layui-input" name="roleId" data-placeholder="请选择人员性质" th:data-value="${user.role}? ${user.role.id}:'2'"
									th:data-url="${ctx} + '/system/role/getSelect'" data-key="id" data-label="name">
								</select>
						</div>
					</div>
    				<div class="layui-form-item col-lg-6 col-sm-12 col-xs-12">
						<label class="col-xs-3 layui-form-label">备注：</label>
				        <div class="col-xs-6">
    						<input name="remark" class="layui-input" th:value="${user.remark }" placeholder="请输入备注" autocomplete="off" type="text"  maxlength="50">
    					</div>
				    </div>
    			</form>
    		</div>
    	</div>
    </div>
</body>
</html>